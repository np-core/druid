params {

    container = "np-core/druid:latest"
    scratch = false
    error_strategy = "ignore"

}

process {

    withLabel: metawrap {
        cpus = 96
        memory = "120G"
        time = "72h"
    }

}


profiles {
    docker {
        docker.enabled = true
        process.executor = "local"
        process.container = params.container
    }
    singularity {
        singularity.enabled = true
        singularity.autoMounts = false
        process.executor = "local"
        process.container = params.container
    }
    docker_gpu {
        docker.enabled = true
        docker.runOptions = "--gpus all"
        process.executor = "local"
        process.container = params.container
    }
    singularity_gpu {
        singularity.enabled = true
        singularity.autoMounts = false
        singularity.runOptions = "--nv"
        process.executor = "local"
        process.container = params.container
    }
    zodiac {
        singularity.enabled = true
        singularity.autoMounts = true
        process.executor = "pbspro"
        process.container = params.container
    }
    tesla {
        singularity.runOptions = "--nv"
        singularity.enabled = true
        singularity.autoMounts = true
        process.executor = "local"
        process.container = params.container
    }
}
